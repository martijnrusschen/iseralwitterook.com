<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="utf-8">
    <title>Is er al witte rook? | Check of er een nieuwe paus is gekozen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Is er al witte rook? Zie hier direct of er een nieuwe paus is gekozen. Blijf op de hoogte van het laatste nieuws uit het Vaticaan.">
    <meta name="keywords" content="witte rook, nieuwe paus, paus, vaticaan, vatican, conclaaf, katholieke kerk, pausverkiezing">
    <meta name="author" content="Martijn Russchen">
    <meta name="color-scheme" content="light dark">
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#121212" media="(prefers-color-scheme: dark)">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’¨</text></svg>">
    <link rel="author" href="humans.txt">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://iseralwitterook.com/">
    <meta property="og:title" content="Is er al witte rook? | Check of er een nieuwe paus is gekozen">
    <meta property="og:description" content="Controleer direct of er al witte rook is en er een nieuwe paus is gekozen.">
    <meta property="og:image" content="https://iseralwitterook.com/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://iseralwitterook.com/">
    <meta property="twitter:title" content="Is er al witte rook? | Check of er een nieuwe paus is gekozen">
    <meta property="twitter:description" content="Controleer direct of er al witte rook is en er een nieuwe paus is gekozen.">
    <meta property="twitter:image" content="https://iseralwitterook.com/og-image.jpg">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style type="text/css">
      body {
        padding-top: 20px;
        padding-bottom: 40px;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        position: relative;
        overflow-x: hidden;
      }

      /* Black smoke animation */
      .black-smoke-bg {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: -1;
        overflow: hidden;
        pointer-events: none;
      }
      
      .smoke-particles {
        position: absolute;
        width: 100%;
        height: 100%;
      }
      
      .smoke-particle {
        position: absolute;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 50%;
        animation: float-up var(--duration) ease-out infinite;
        opacity: 0;
      }
      
      @keyframes float-up {
        0% {
          transform: translateY(100%) translateX(0) scale(0.2);
          opacity: 0;
        }
        20% {
          opacity: 0.4;
        }
        50% {
          opacity: 0.5;
        }
        80% {
          opacity: 0.3;
        }
        100% {
          transform: translateY(-300%) translateX(var(--translateX)) scale(2);
          opacity: 0;
        }
      }

      /* Custom container */
      .container-narrow {
        margin: 0 auto;
        max-width: 700px;
        padding-left: 15px;
        padding-right: 15px;
        background-color: rgba(255, 255, 255, 0.9);
        position: relative;
        z-index: 1;
      }
      .container-narrow > hr {
        margin: 30px 0;
      }

      /* Main marketing message and sign up button */
      .jumbotron {
        margin: 30px 0 60px;
        text-align: center;
        padding: 2rem 1rem;
        background-color: #f8f9fa;
        border-radius: 0.5rem;
        position: relative;
        z-index: 1;
      }
      
      /* Enhanced main message styling */
      .main-message {
        box-shadow: 0 5px 25px rgba(0,0,0,0.15);
        border: 2px solid #f8f9fa;
        background-color: #fff;
        transform: translateY(-15px);
      }
      
      .main-message h1 {
        font-size: 3.8rem;
        font-weight: 700;
        letter-spacing: -0.5px;
        margin-bottom: 0.8rem;
      }
      
      .main-message .answer-no {
        font-size: 4rem;
        display: block;
        margin-top: 0.5rem;
        animation: pulse 2s infinite;
      }
      
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }
      
      /* Share buttons styling */
      .share-buttons {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      
      .share-buttons a {
        display: inline-flex;
        align-items: center;
        transition: all 0.2s ease;
        margin-bottom: 5px;
      }
      
      .share-buttons a:hover {
        transform: translateY(-2px);
      }
      
      /* Ensure better spacing for mobile devices */
      .gap-2 {
        gap: 0.5rem !important;
      }
      
      /* Live stream container styling */
      .live-stream-container {
        border-radius: 0.5rem;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        background-color: #f8f9fa;
        padding: 1rem;
        margin-top: 1rem;
      }
      .jumbotron h1 {
        font-size: 3.5rem;
        line-height: 1.2;
      }
      .jumbotron .btn {
        font-size: 1.25rem;
        padding: 0.75rem 1.5rem;
      }
      .answer-no {
        color: #dc3545;
        font-weight: bold;
      }
      .answer-yes {
        color: #28a745;
        font-weight: bold;
      }
      
      @media (prefers-color-scheme: dark) {
        .container-narrow {
          background-color: rgba(30, 30, 30, 0.9);
        }
        .jumbotron {
          background-color: #2d2d2d;
        }
        .live-stream-container {
          background-color: #2d2d2d;
          box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .btn-outline-dark {
          color: #f8f9fa;
          border-color: #f8f9fa;
        }
        .btn-outline-dark:hover {
          color: #121212;
          background-color: #f8f9fa;
        }
      }

      /* Style for the news feed */
      #news-feed ul {
          list-style: none;
          padding-left: 0;
          text-align: left; /* Align text left for readability */
      }
      #news-feed li {
          margin-bottom: 20px;
          padding-bottom: 10px;
          border-bottom: 1px solid #eee; /* Add separator lines */
      }
      #news-feed h3 {
          font-size: 18px; /* Adjust title size */
          margin-top: 0;
      }
       #news-feed h3 a {
          color: #333; /* Link color */
      }
       #news-feed p {
          font-size: 14px;
          color: #555;
      }

    </style>
    <!-- No need for bootstrap-responsive.css with Bootstrap 5 -->
    <style type="text/css">
      /* Vatican header styling */
      .vatican-header {
        position: relative;
        width: 100%;
        margin-bottom: 20px;
        border-radius: 0.5rem;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      }
      
      .vatican-image {
        display: block;
        width: 100%;
        height: 250px;
        object-fit: cover;
        object-position: center;
        transition: transform 8s ease-in-out;
      }
      
      .vatican-header:hover .vatican-image {
        transform: scale(1.05);
      }
      
      .overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6));
      }
      
      .vatican-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px;
        color: white;
        text-shadow: 0 1px 3px rgba(0,0,0,0.8);
      }
      
      .vatican-caption h2 {
        font-size: 1.6rem;
        margin-bottom: 5px;
        font-weight: 600;
      }
      
      .vatican-caption p {
        font-size: 1rem;
        margin-bottom: 0;
        opacity: 0.9;
      }

      /* Responsive styles */
      @media (max-width: 767px) {
        .vatican-image {
          height: 180px;
        }
        
        .vatican-caption h2 {
          font-size: 1.3rem;
        }
        
        .vatican-caption p {
          font-size: 0.9rem;
        }
        
        .jumbotron {
          margin-top: 30px;
        }
        
        .main-message h1 {
          font-size: 2.8rem;
        }
        
        .main-message .answer-no {
          font-size: 3rem;
        }
        
        .live-stream-container {
          padding: 0.75rem;
          margin-top: 0.75rem;
        }
      }
      
      /* Dark mode support */
      @media (prefers-color-scheme: dark) {
        body {
          background-color: #121212;
          color: #f8f9fa;
        }
        .container-narrow {
          background-color: #1e1e1e;
        }
        .main-message {
          background-color: #2d2d2d;
          border-color: #444;
          box-shadow: 0 5px 25px rgba(0,0,0,0.3);
        }
        .overlay {
          background: linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.5));
        }
        #news-feed li {
          border-bottom: 1px solid #333;
        }
        #news-feed h3 a {
          color: #f8f9fa;
        }
        #news-feed p {
          color: #adb5bd;
        }
        /* Dark mode for countdown timer */
        #countdown-timer.bg-light {
          background-color: #2d2d2d !important;
          color: #f8f9fa;
        }
        #countdown-timer .h2 {
          color: #f8f9fa;
        }
      }
    </style>


  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NN13SXB1L6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-NN13SXB1L6');
  </script>
  
  <!-- Structured data for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Is er al witte rook?",
    "description": "Controleer direct of er al witte rook is en er een nieuwe paus is gekozen.",
    "url": "https://iseralwitterook.com/",
    "author": {
      "@type": "Person",
      "name": "Martijn Russchen"
    },
    "publisher": {
      "@type": "Person",
      "name": "Martijn Russchen",
      "url": "https://martijnrusschen.nl"
    },
    "mainEntity": {
      "@type": "Question",
      "name": "Is er al witte rook?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Nee, er is nog geen witte rook. De katholieke kerk heeft nog geen nieuwe paus gekozen."
      }
    }
  }
  </script>
  
  <!-- Preload Google Font for better performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  </head>

  <body>
    <div class="black-smoke-bg">
      <div class="smoke-particles" id="smokeParticles"></div>
    </div>
    
    <div class="container-narrow">
      <div class="vatican-header">
        <img src="vatican.jpg" alt="Sint-Pietersplein, Vaticaanstad" class="img-fluid vatican-image">
        <div class="overlay"></div>
        <div class="vatican-caption">
          <h2>Sint-Pietersplein, Vaticaanstad</h2>
          <p>Het beroemde plein waar duizenden mensen verzamelen wanneer witte rook verschijnt</p>
        </div>
      </div>

      <div class="jumbotron main-message">
        <h1 class="display-4">Is er al witte rook? <span class="answer-no">NEE</span></h1>
        <p class="lead mt-3">De katholieke kerk heeft nog geen nieuwe paus gekozen. Hier zie je direct wanneer er witte rook is.</p>
        
        <div id="countdown-timer" class="mt-3 p-3 bg-light rounded">
          <p class="mb-1">Volgende mogelijke rookmoment:</p>
          <div class="d-flex justify-content-center">
            <div class="text-center px-2">
              <span id="hours" class="h2 fw-bold">00</span>
              <p class="mb-0 small">Uren</p>
            </div>
            <div class="text-center px-2">
              <span id="minutes" class="h2 fw-bold">00</span>
              <p class="mb-0 small">Minuten</p>
            </div>
            <div class="text-center px-2">
              <span id="seconds" class="h2 fw-bold">00</span>
              <p class="mb-0 small">Seconden</p>
            </div>
          </div>
          <p class="text-center mt-2 mb-0 small" id="next-time-display"></p>
        </div>
        
        <div class="share-buttons mt-4">
          <p class="mb-2"><small>Deel deze pagina:</small></p>
          <div class="d-flex flex-wrap justify-content-center gap-2">
            <a href="https://twitter.com/intent/tweet?url=https://iseralwitterook.com&text=Is%20er%20al%20witte%20rook%3F%20Check%20het%20hier!" target="_blank" rel="noopener" class="btn btn-sm btn-outline-dark">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter-x" viewBox="0 0 16 16">
                <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
              </svg>
              <span class="ms-1">Deel op X</span>
            </a>
            <a href="https://api.whatsapp.com/send?text=Is%20er%20al%20witte%20rook%3F%20Check%20het%20hier!%20https://iseralwitterook.com" target="_blank" rel="noopener" class="btn btn-sm btn-outline-success">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-whatsapp" viewBox="0 0 16 16">
                <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.199-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/>
              </svg>
              <span class="ms-1">WhatsApp</span>
            </a>
            <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://iseralwitterook.com" target="_blank" rel="noopener" class="btn btn-sm btn-outline-primary">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16">
                <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/>
              </svg>
              <span class="ms-1">Deel op LinkedIn</span>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://iseralwitterook.com" target="_blank" rel="noopener" class="btn btn-sm btn-outline-primary">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-facebook" viewBox="0 0 16 16">
                <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
              </svg>
              <span class="ms-1">Facebook</span>
            </a>
          </div>
        </div>
      </div>

      <hr>
      
      <h2>Live Sixtijnse Kapel Rook Camera</h2>
      <div class="live-stream-container mb-4">
        <div class="ratio ratio-16x9">
          <iframe src="https://www.youtube.com/embed/S4_PCRvPZko" 
                  title="Live Sixtijnse Kapel Rook Camera" 
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                  allowfullscreen></iframe>
        </div>
        <p class="mt-2"><small>Live stream van de Sixtijnse Kapel schoorsteen. Zodra er witte rook verschijnt, is er een nieuwe paus gekozen.</small></p>
      </div>

      <hr>

      <h2>NOS Nieuws over de Paus & Vaticaan</h2>
      <div id="news-feed">
        <p>Loading news...</p>
      </div>
      <hr>

      <div class="footer mt-4">
        <p>&copy; 2025 - Een project van <a href="https://martijnrusschen.nl" class="link-primary">Martijn Russchen</a></p>
        <div class="mt-2">
          <p>
            <small>Wat betekent witte rook? Als een nieuwe paus wordt gekozen tijdens een conclaaf, wordt dit aangekondigd met witte rook uit de Sixtijnse Kapel. 
            Zwarte rook betekent dat de kardinalen nog geen beslissing hebben bereikt. Dit is een eeuwenoude traditie van de katholieke kerk.</small>
          </p>
        </div>
      </div>

    </div> <script>
      document.addEventListener('DOMContentLoaded', function() {
        const feedContainer = document.getElementById('news-feed');
        
        // NOS International News RSS feed URL
        const rssFeedUrl = 'https://feeds.nos.nl/nosnieuwsbuitenland';
        
        // URL to your PHP proxy script
        const feedUrlToFetch = 'fetch_feed.php?url=' + encodeURIComponent(rssFeedUrl);

        fetch(feedUrlToFetch)
          .then(response => {
            console.log('Fetch response status:', response.status);
            if (!response.ok) {
               // Check for specific proxy errors or general HTTP errors
               if (response.status === 0) {
                   throw new Error('Network error connecting to proxy or CORS issue if proxy is on different domain.');
               } else if (response.status === 502) {
                   throw new Error('Proxy script failed to fetch the feed from the source (Bad Gateway).');
               } else if (response.status === 400) {
                    throw new Error('Proxy script reported a Bad Request (check URL parameter).');
               }
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.text();
          })
          .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
          .then(data => {
            // Check if the parser returned an error document (common if the proxy returned an HTML error page instead of XML)
            const parserError = data.querySelector("parsererror");
            if (parserError) {
                console.error("Parsing Error:", parserError.textContent);
                throw new Error("Failed to parse the feed XML. The proxy might have returned an error message instead of XML.");
            }

            feedContainer.innerHTML = ''; // Clear "Loading..." message
            const items = data.querySelectorAll("item");
            if (items.length === 0) {
                // Check if it's valid XML but just empty
                if (data.documentElement && data.documentElement.nodeName !== 'parsererror') {
                     feedContainer.innerHTML = '<p>No news items found in the feed.</p>';
                } else {
                    // If it wasn't valid XML and not caught above, re-throw.
                    throw new Error("Received empty or invalid XML data from proxy.");
                }
                return;
            }

            // Keywords to filter by - case insensitive
            const keywords = ['paus', 'vaticaan', 'vatican', 'pope', 'francis', 'conclaaf', 'conclave', 'kardinaal', 'kardinalen', 'witte rook'];
            const filteredItems = [];
            
            // Filter items containing our keywords
            items.forEach(item => {
              const title = item.querySelector("title")?.textContent || '';
              const descriptionNode = item.querySelector("description");
              const description = descriptionNode?.textContent || '';
              
              // Check if any keyword is in the title or description (case insensitive)
              const hasKeyword = keywords.some(keyword => 
                title.toLowerCase().includes(keyword.toLowerCase()) || 
                description.toLowerCase().includes(keyword.toLowerCase())
              );
              
              if (hasKeyword) {
                filteredItems.push(item);
              }
            });
            
            if (filteredItems.length === 0) {
              feedContainer.innerHTML = '<p>Geen nieuws over de paus of het Vaticaan gevonden.</p>';
              return;
            }
            
            let newsHtml = '<ul>';
            filteredItems.forEach(item => {
              const title = item.querySelector("title")?.textContent || 'No title';
              const link = item.querySelector("link")?.textContent || '#';
              // Description often contains HTML, try to get text or limited HTML
              const descriptionNode = item.querySelector("description");
              let description = descriptionNode?.textContent || '';

              // Basic cleanup of potential leftover HTML if just getting textContent
              description = description.replace(/<[^>]*>/g, '').trim();

              // Limit description length
              const shortDescription = description.substring(0, 200) + (description.length > 200 ? '...' : '');

              newsHtml += `
                <li>
                  <h3><a href="${link}" target="_blank" rel="noopener noreferrer">${title}</a></h3>
                  ${shortDescription ? `<p>${shortDescription}</p>` : ''}
                </li>
              `;
            });
            newsHtml += '</ul>';
            feedContainer.innerHTML = newsHtml;
          })
          .catch(error => {
            console.error('Error fetching or parsing feed via proxy:', error);
            feedContainer.innerHTML = `<p>Fout bij het laden van het nieuwsoverzicht: ${error}.</p>
            <p>Probeer later opnieuw.</p>`;
            
          });
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Check if there's an element with class "answer-yes"
        // If yes, don't show the black smoke animation
        const hasWhiteSmoke = document.querySelector('.answer-yes') !== null;
        
        if (!hasWhiteSmoke) {
          // Create and animate the black smoke particles
          createSmokeAnimation();
        }
        
        function createSmokeAnimation() {
          const container = document.getElementById('smokeParticles');
          if (!container) return;
          
          // Clear any existing particles
          container.innerHTML = '';
          
          // Create multiple smoke particles
          for (let i = 0; i < 30; i++) {
            createSmokeParticle(container);
          }
          
          // Continue creating new particles
          setInterval(() => {
            // Remove old particles to avoid performance issues
            if (container.children.length > 40) {
              container.removeChild(container.firstChild);
            }
            
            createSmokeParticle(container);
          }, 1000);
        }
        
        function createSmokeParticle(container) {
          // Create a new smoke particle
          const particle = document.createElement('div');
          particle.classList.add('smoke-particle');
          
          // Random size between 20px and 100px
          const size = 20 + Math.random() * 80;
          
          // Random position along the bottom of the screen
          const startX = Math.random() * window.innerWidth;
          
          // Random duration between 8 and 15 seconds
          const duration = 8 + Math.random() * 7;
          
          // Random horizontal drift as it rises
          const translateX = (Math.random() - 0.5) * 150 + 'px';
          
          // Set CSS properties
          particle.style.width = size + 'px';
          particle.style.height = size + 'px';
          particle.style.left = startX + 'px';
          particle.style.bottom = '-' + size + 'px';
          particle.style.setProperty('--duration', duration + 's');
          particle.style.setProperty('--translateX', translateX);
          
          // Add to container
          container.appendChild(particle);
          
          // Remove the particle after animation completes to clean up DOM
          setTimeout(() => {
            if (particle.parentNode === container) {
              container.removeChild(particle);
            }
          }, duration * 1000 + 100);
        }
      });
    </script>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Get countdown elements
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');
        const nextTimeDisplayEl = document.getElementById('next-time-display');
        const countdownTimerEl = document.getElementById('countdown-timer');
        
        // Function to get the next announcement time (12:00 or 19:00)
        function getNextAnnouncementTime() {
          const now = new Date();
          const noon = new Date(now);
          noon.setHours(12, 0, 0, 0);
          
          const evening = new Date(now);
          evening.setHours(19, 0, 0, 0);
          
          // If it's after 19:00, set the next announcement to 12:00 tomorrow
          if (now > evening) {
            noon.setDate(noon.getDate() + 1);
            return { time: noon, label: 'morgen om 12:00' };
          }
          // If it's after 12:00 but before 19:00, the next one is at 19:00
          else if (now > noon) {
            return { time: evening, label: 'vandaag om 19:00' };
          }
          // If it's before 12:00, the next one is at 12:00 today
          else {
            return { time: noon, label: 'vandaag om 12:00' };
          }
        }
        
        // Update the countdown every second
        function updateCountdown() {
          // Get the next announcement time
          const nextAnnouncement = getNextAnnouncementTime();
          
          // Set the display text
          nextTimeDisplayEl.textContent = `Verwacht ${nextAnnouncement.label}`;
          
          // Calculate time remaining
          const now = new Date();
          const timeRemaining = nextAnnouncement.time - now;
          
          // If time has passed, update to next time
          if (timeRemaining <= 0) {
            setTimeout(updateCountdown, 1000);
            return;
          }
          
          // Calculate hours, minutes, seconds
          const hours = Math.floor(timeRemaining / (1000 * 60 * 60));
          const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
          
          // Add leading zeros if needed
          hoursEl.textContent = hours.toString().padStart(2, '0');
          minutesEl.textContent = minutes.toString().padStart(2, '0');
          secondsEl.textContent = seconds.toString().padStart(2, '0');
          
          // Update the countdown color as it gets closer
          if (timeRemaining < 15 * 60 * 1000) { // Less than 15 minutes
            countdownTimerEl.classList.remove('bg-light');
            countdownTimerEl.classList.add('bg-warning', 'text-dark');
          } else {
            countdownTimerEl.classList.remove('bg-warning', 'text-dark');
            countdownTimerEl.classList.add('bg-light');
          }
          
          // Schedule the next update
          setTimeout(updateCountdown, 1000);
        }
        
        // Start the countdown
        updateCountdown();
      });
    </script>
  </body>
</html>